<head>
  <script src="https://www.paypal.com/sdk/js?client-id=AUtWRd24i6C0A-tlVJqyK3Tv9-zc-0HOxZP31Ec7yiB4upo1bMYqGGwVdCHD_vCcObwvFLGyVvBlL9xp"></script>
</head>

<h1 class="text-center text-info mt-2">GIỎ HÀNG</h1>

<table
  *ngIf="hcarts === true"
  class="table table-striped table-bordered table-hover"
>
  <thead>
    <tr>
      <th>#</th>
      <th>Tên sản phẩm</th>
      <th>Đơn giá</th>
      <th>Số lượng</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let key of Object.keys(carts)">
      <td>{{ carts[key].idThucAn }}</td>
      <td>{{ carts[key].name }}</td>
      <td>{{ carts[key].donGia }} VNĐ</td>
      <td>
        <input
          type="number"
          (change)="update(key, quantity.value)"
          #quantity
          value="{{ carts[key].soLuong }}"
        />
      </td>
      <td>
        <button type="button" (click)="deleteItem(carts[key])">&times;</button>
      </td>
    </tr>
  </tbody>
</table>

<button type="button" [disabled]="!huser" (click)="pay()" class="btn btn-info">
  Thanh toán
</button>
<div #paypal></div>
<div *ngIf="hcarts === false" class="alert alert-info mt-2">
  Không có sản phẩm trong giỏ!
</div>

<div *ngIf="huser === false" class="alert alert-danger mt-2">
  Bạn phải
  <a [routerLink]="['/login']" routerLinkActive="router-link-active"
    >Đăng nhập</a
  >
  trước để thanh toán
</div>
